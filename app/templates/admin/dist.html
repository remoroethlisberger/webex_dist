{% extends "base.html" %}
{% block title %}Dist{% endblock %}
{% block head %}
    {{ super() }}
{% endblock %}

{% block content %}
    <div class="col-md-12">
        <form action="" method="POST" enctype=multipart/form-data>
          {% for message in get_flashed_messages() %}
            <div class="alert alert-warning">
                <button type="button" class="close" data-dismiss="alert">&times;</button>
                {{ message }}
            </div>
          {% endfor %}
          <h1 class="text-center">Automated Message Distribution</h1>
          <div class="form-group">
             {{ form.message.label }}
             {{ form.message(class_='form-control', placeholder='Enter message and don\'t forget to include your name') }}
             {% if form.message.errors %}
               <ul class="errors">
                 {% for error in form.message.errors %}<li>{{ error }}</li>{% endfor %}
               </ul>
             {% endif %}
          </div>
          <div class="form-group">
            {{ form.rooms.label }}
            {{ form.rooms(class_='form-control') }}
            {% if form.rooms.errors %}
              <ul class="errors">
                {% for error in form.rooms.errors %}<li>{{ error }}</li>{% endfor %}
              </ul>
            {% endif %}
          </div>
          <div class="form-group">
            {{ form.files.label }}
            {{ form.files(class_='form-control') }}
            {% if form.files.errors %}
              <ul class="errors">
                {% for error in form.files.errors %}<li>{{ error }}</li>{% endfor %}
              </ul>
            {% endif %}
          </div>
          <div class="form-group text-center">
            <input class="btn btn-dark w-50" id="submit" type="submit" value="Submit">
          </div>
        </form>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/js/select2.min.js"></script>
    <script type="text/javascript">
      $("#rooms").attr("multiple", "multiple").select2();
    </script>
{% endblock %}
